<!doctype html>
<html ng-app="app">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title ng-bind="pageTitle"></title>
	<meta name="description" content="Plong app">
	<meta name="viewport" content="width=device-width, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="mobile-web-app-capable" content="yes">
	<link rel="stylesheet" href="css/screen.css">
	<link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600' rel='stylesheet' type='text/css'>
</head>

<body ng-controller="MainCtrl">
	<div class="flex-container">

		<div class="main">
			<nav class="nav">
				<ul>
					<li><a href="#">Maps</a></li>
					<li><a href="#">Help</a></li>
				</ul>
			</nav>
			<div class="label">
				Uw huidig label
				<div class="label___letter" ng-bind="label()">

				</div>
			</div>
			<div class="square">
				<div class="visual">
					<!-- TODO: insert platform svg -->
					<div class="platform"></div>
					<!-- TODO: insert housesizes -->
					<div class="house"></div>
					<!-- TODO: remove this one and use thingie below -->
					<div class="roof"></div>
					<!-- TODO: insert roofs -->
					<div ng-if="stor.r.roof" ng-class="c('roof')">
						<img ng-src="c('roof')"/>
						<br>roof svg</div>
				</div>
			</div>
			<footer class="powered">
				<a href="#">Powered by leiedal{{questions[q].key}}</a>
			</footer>
		</div>

		<div class="question" ng-class="{'question--done':stor.r.answers[questions[q].key]}">
			<div class="progress">
				<!-- TODO: calculate progress (range 0 - 100) -->
				<div class="progress__done" style="width:{{100*q/(questions.length-1)|number:2}}%"></div>
			</div>
			<header class="question__title">
				<!-- TODO: implement back and next overflow -->
				<!-- TODO: hide back and next and prevent overflow -->
				<button ng-click="q=q-1" ng-disabled="q==0" class="arrow arrow--left">Back</button>
				<button ng-click="q=q+1" ng-disabled="q==questions.length-1" class="arrow arrow--right">Next</button>
				<div ng-bind="questions[q].description"></div>
			</header>
			<main class="question__answers">
				<div ng-repeat="(a, ans) in questions[q].answers" ng-click="answer(questions[q], ans)" class="answer" ng-class="{'answer--img':ans.image, 'answer--active':stor.r.answers[questions[q].key]==ans.value}">
					<img ng-src="{{ans.image}}" ng-if="ans.image" alt="{{ans.image}}">
					<div ng-bind="ans.title"></div>
					<input ng-if="ans.type=='year'" type="range" ng-model="ans.value" min="1900" max="2000">
					<span ng-if="ans.type=='year'">{{ans.value}}</span>
				</div>
			</main>
		</div>

	</div>
	<script src="bower_components/angular/angular.min.js"></script>
	<script src="bower_components/angular-resource/angular-resource.min.js"></script>
	<script src="bower_components/ngstorage/ngStorage.min.js"></script>
	<script src="js/app.js"></script>
</body>

</html>
